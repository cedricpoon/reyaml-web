(this["webpackJsonpreyaml-web"]=this["webpackJsonpreyaml-web"]||[]).push([[0],{16:function(e,t,n){e.exports={menuItem:"MenuItem_menuItem__2lNL3",button:"MenuItem_button__2Mm5B",strong:"MenuItem_strong__zWajT",disabled:"MenuItem_disabled__1YauT",active:"MenuItem_active__1FB6q",relative:"MenuItem_relative__22Fyb",dropdown:"MenuItem_dropdown__25Ux8",left:"MenuItem_left__2sOVe",right:"MenuItem_right__1SCUQ"}},212:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),i=n.n(o),c=n(4),s=n(2),l=n(7),u=n(6),p=n(8),d=n(22),m=n(21),b=n(23),h=n(85),f="INIT_LOADING",v="LOADING",E="NORMAL",O="ERROR",j="OK",_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_APP_LOADING_STATUS":return t.status;default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LINT":return t.status;default:return e}},w=Object(b.c)({appStatus:_,lint:g}),y=n(56),k=n(86),L=n(87);y.a.use(k.a).use(L.a).use(d.b).init({fallbackLng:"en",debug:!1,backend:{loadPath:"/".concat("reyaml-web","/locales/{{lng}}/{{ns}}.json")},interpolation:{escapeValue:!1}});var C=y.a,S=n(38),A=n(33),N=(n(157),function(e){return{type:"SET_APP_LOADING_STATUS",status:e}}),R=n(90),D=n.n(R),I=n(20),T=n.n(I),M=n(53),P=n.n(M),B=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){this.props.updated&&this.props.updated()}},{key:"render",value:function(){return r.a.createElement(D.a,{className:T()([P.a.spinner,!this.props.enabled&&P.a.hidden]),name:"pulse",fadeIn:"none"})}}]),t}(r.a.Component);B.defaultProps={enabled:!0};var x=B,W=n(91),U=n.n(W),F=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.containerRect,n=e.dataObject;return r.a.createElement(U.a,{translate:t&&{x:t.width/4,y:t.height/2},data:n,orientation:"vertical",initialDepth:1,transitionDuration:0,zoom:.75,pathFunc:"straight",collapsible:!1,separation:{siblings:1,nonSiblings:1}})}}]),t}(r.a.Component),z=n(92),G=n.n(z),Y=(n(210),n(211),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(G.a,Object.assign({mode:"yaml",theme:"chrome",editorProps:{$blockScrolling:!0},height:"100%",width:"100%",value:this.props.text},this.props.aceEditorProps))}}]),t}(r.a.Component));Y.defaultProps={aceEditorProps:null,text:""};var J=Y,Q=n(16),V=n.n(Q),q=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onClick=function(e){n.props.disabled||(n.props.dropdown&&n.setState({active:n.self.contains(e.target)}),n.props.onClick&&n.props.onClick(e))},n.state={active:e.active},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onClick,!1)}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{ref:function(t){e.self=t},title:this.props.tooltip,className:T()([V.a.menuItem,!this.props.disabled&&[(this.props.button||this.props.dropdown)&&V.a.button,this.props.dropdown&&this.state.active&&V.a.active],this.props.strong&&V.a.strong,this.props.disabled&&V.a.disabled])},this.props.children);return this.props.dropdown&&!this.props.disabled?r.a.createElement("span",{className:V.a.relative},t,this.state.active&&r.a.createElement("div",{className:T()([V.a.dropdown,"left"===this.props.dropDirection&&V.a.left,"right"===this.props.dropDirection&&V.a.right])},this.props.dropdown)):t}}]),t}(r.a.Component);q.defaultProps={};var H=q,K=n(39),$=n.n(K),X=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{color:this.props.color},className:T()([$.a.icon,$.a[this.props.size],this.props.color&&$.a.colorTrans])},this.props.children)}}]),t}(r.a.Component);X.defaultProps={size:"medium"};var Z=X,ee=n(54),te=n.n(ee);var ne=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:te.a.dropdownMenu},this.props.children)}}]),t}(r.a.Component);ne.defaultProps={},ne.LineBreak=function(e){return r.a.createElement("div",{className:te.a.lineBreak})};var ae=ne,re=n(55),oe=n.n(re),ie=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){var t=n.AceEditor.editor.selection.getCursor().row;n.props.startLoading(),n.setState({yaml:e,row:t,shouldRenderD3Object:!0})},n.onCursorChange=function(){var e=n.AceEditor.editor.selection.getCursor().row;e!==n.state.row&&(n.props.startLoading(),n.setState({row:e,shouldRenderD3Object:!0}))},n.renderD3Object=function(){var e=n.state,t=e.yaml,a=e.row;if(!S.Ryaml.isJunkLine({line:t.split("\n")[a]})){var r=a-new S.Ryaml(n.state.yaml).countJunkLine({lineNo:a}),o=new S.Ryaml(t).toRjson({profile:"d3Tree"}).markLine({lineNo:r}).truncate({lineNo:r,level:2,siblingSize:2}).toD3({profile:"d3Tree"});n.props.linter(Array.isArray(o)&&1===o.length),n.setState({d3Object:Array.isArray(o)&&1===o.length?o:n.state.d3Object,shouldRenderD3Object:!1})}n.props.completeLoading()},n.state={yaml:"",d3Object:{name:"".concat("reyaml-web","-v").concat("0.1.0"),attributes:{"":e.t("tree-placeholder")}},lineNo:0,shouldRenderD3Object:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({containerRect:this.Container.getBoundingClientRect()}),this.AceEditor&&(this.AceEditor.editor.session.setNewLineMode("unix"),this.AceEditor.editor.session.setOptions({tabSize:2,useSoftTabs:!0}))}},{key:"componentDidUpdate",value:function(){var e=this;this.state.shouldRenderD3Object&&!this.state.updateLock&&setTimeout((function(){e.renderD3Object()}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:oe.a.container,ref:function(t){return e.Container=t}},r.a.createElement(A.a,{orientation:"vertical"},r.a.createElement(A.b,null,r.a.createElement(F,{containerRect:this.state.containerRect,dataObject:this.state.d3Object})),r.a.createElement(A.c,{className:oe.a.seperator}),r.a.createElement(A.b,null,r.a.createElement(J,{text:this.state.yaml,aceEditorProps:{onChange:this.onChange,onCursorChange:this.onCursorChange,ref:function(t){e.AceEditor=t}}}))))}}]),t}(r.a.Component),ce=Object(d.c)()(Object(m.b)((function(e){return{updateLock:e.appStatus===f}}),(function(e,t){return{startLoading:function(){return e(N(f))},completeLoading:function(){return e(N(E))},linter:function(t){return e({type:"SET_LINT",status:t?j:O})}}}))(ie)),se=n(41),le=n(40),ue=n.n(le),pe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.t;return r.a.createElement("nav",{className:ue.a.toolbar},r.a.createElement("section",{className:ue.a.left},r.a.createElement(H,{strong:!0},"reyaml-web"),r.a.createElement(H,{dropdown:r.a.createElement(ae,null,r.a.createElement(H,{button:!0},"New YAML"),r.a.createElement(H,{button:!0},"Open YAML File\u2026"),r.a.createElement(ae.LineBreak,null),r.a.createElement(H,{button:!0},"Save"),r.a.createElement(H,{button:!0},"Save As\u2026"),r.a.createElement(ae.LineBreak,null),r.a.createElement(H,{button:!0},"Export Permalink"),r.a.createElement(H,{button:!0},"Export Diagram As\u2026"))},e("toolbar-file")),r.a.createElement(H,{dropdown:r.a.createElement(ae,null,r.a.createElement(H,{button:!0},"Undo"),r.a.createElement(H,{button:!0},"Redo"),r.a.createElement(ae.LineBreak,null),r.a.createElement(H,{button:!0},"Cut"),r.a.createElement(H,{button:!0},"Copy"),r.a.createElement(H,{button:!0},"Paste"),r.a.createElement(ae.LineBreak,null),r.a.createElement(H,{button:!0},"Find"),r.a.createElement(H,{button:!0},"Replace"))},e("toolbar-edit")),r.a.createElement(H,{dropdown:r.a.createElement(ae,null,r.a.createElement(H,{button:!0},"Reset Sections"),r.a.createElement(ae.LineBreak,null),r.a.createElement(H,{button:!0},"Hide YAML Editor"),r.a.createElement(H,{button:!0},"Hide D3 Tree Diagram"))},e("toolbar-view")),r.a.createElement(H,{dropdown:r.a.createElement(ae,null,r.a.createElement(H,{button:!0},"Report Issue"),r.a.createElement(H,{button:!0},"Visit Github Repository"),r.a.createElement(ae.LineBreak,null),r.a.createElement(H,{disabled:!0},"Version: ".concat("0.1.0")),r.a.createElement(H,{disabled:!0},"Author: ".concat("Cedric Poon <cedric@poons.me>")))},e("toolbar-help"))),r.a.createElement("section",{className:ue.a.right},r.a.createElement(H,{tooltip:this.props.lint?e("toolbar-lint-success"):e("toolbar-lint-failure")},r.a.createElement(Z,{color:this.props.lint?"darkgreen":"crimson"},this.props.lint?r.a.createElement(se.a,null):r.a.createElement(se.b,null))),r.a.createElement(H,{button:!0,tooltip:e("toolbar-settings")},r.a.createElement(Z,null,r.a.createElement(se.c,null)))))}}]),t}(r.a.Component);pe.defaultProps={lint:!0};var de=Object(d.c)(null,{withRef:!0})(Object(m.b)((function(e,t){return{lint:e.lint===j}}),null)(pe)),me=n(93),be=n.n(me),he=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:be.a.appFrame},r.a.createElement(de,null),r.a.createElement(ce,null),r.a.createElement(x,{enabled:this.props.appStatus===f||this.props.appStatus===v,updated:function(){e.props.appStatus===f&&e.props.spinnerDidUpdate()}}))}}]),t}(r.a.Component),fe=Object(m.b)((function(e){return{appStatus:e.appStatus}}),(function(e){return{spinnerDidUpdate:function(){return e(N(v))}}}))(he),ve=b.d,Ee=Object(b.e)(w,ve(Object(b.a)(h.a))),Oe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{store:Ee},r.a.createElement(d.a,{i18n:C},r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(x,null)},r.a.createElement(fe,{loader:this.state.loader}))))}}]),t}(r.a.Component),je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(212);i.a.render(r.a.createElement(Oe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/reyaml-web",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/reyaml-web","/service-worker.js");je?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_e(t,e)}))}}()},39:function(e,t,n){e.exports={colorTrans:"Icon_colorTrans__1w3A-",icon:"Icon_icon__2mc5K",medium:"Icon_medium__2NfBW"}},40:function(e,t,n){e.exports={toolbar:"Toolbar_toolbar__1fAPx",left:"Toolbar_left__syRz3",right:"Toolbar_right__2jy0L"}},53:function(e,t,n){e.exports={spinner:"Spinner_spinner__2FBIW",hidden:"Spinner_hidden__kjMBL"}},54:function(e,t,n){e.exports={dropdownMenu:"DropdownMenu_dropdownMenu__136GQ",lineBreak:"DropdownMenu_lineBreak__MYacq"}},55:function(e,t,n){e.exports={container:"Workbench_container__3Q8as",seperator:"Workbench_seperator__2l0eQ"}},93:function(e,t,n){e.exports={appFrame:"AppFrame_appFrame__9zBLk"}},94:function(e,t,n){e.exports=n(213)}},[[94,1,2]]]);